$palette = @{
	fg        = "#d5cbb8" # main text color
	bg        = "#312c29" # panel background
	hl        = "#d4a76d" # match highlight (search match)
	fgPlus    = "#e2d8c0" # selected line fg (bright)
	bgPlus    = "#463f3b" # selected line background (active)
	hlPlus    = "#e5bf90" # selected match highlight (search current)
	info      = "#6ca3ca" # info line
	prompt    = "#bdb49f" # prompt symbol (bright)
	pointer   = "#e5bf90" # current selection arrow (search current)
	marker    = "#d4a76d" # multi-select marker (search match)
	spinner   = "#1e2a30" # spinner while searching (muted)
	header    = "#e2d8c0" # header lines (bright)
	border    = "#463f3b" # border color (subtle edge)
	label     = "#bdb49f" # panel titles (bright)
	query     = "#d4a76d" # search text (main fg)
	gutter    = "#312c29" # pointer area (bg)
	separator = "#463f3b" # line between list and prompt (border)
	scrollbar = "#463f3b" # scroll bar in search list (active)
	disabled  = "#574f4d" # disabled/nontext
}

$env:FZF_DEFAULT_OPTS = @"
--color=fg:$($palette.fg),fg+:$($palette.fgPlus)
--color=bg:$($palette.bg),bg+:$($palette.bgPlus)
--color=hl:$($palette.hl),hl+:$($palette.hlPlus)
--color=info:$($palette.info),marker:$($palette.marker)
--color=prompt:$($palette.prompt),spinner:$($palette.spinner)
--color=pointer:$($palette.pointer),header:$($palette.header)
--color=gutter:$($palette.gutter),border:$($palette.border)
--color=separator:$($palette.separator),scrollbar:$($palette.scrollbar)
--color=preview-border:$($palette.border),preview-scrollbar:$($palette.scrollbar)
--color=preview-label:$($palette.label),label:$($palette.label)
--color=query:$($palette.query),disabled:$($palette.disabled)
--border=sharp
--border-label=" fzf "
--border-label-pos="0"
--preview-window="border-sharp"
--margin=1
--padding=0
--prompt="❯ "
--marker="✓"
--pointer="❯"
--separator="─"
--scrollbar="│"
--info="right"
--height="40%"
--bind="ctrl-/:toggle-preview"
--bind="ctrl-u:preview-half-page-up"
--bind="ctrl-d:preview-half-page-down"
--bind="ctrl-f:preview-page-down"
--bind="ctrl-b:preview-page-up"
--bind="shift-up:preview-up"
--bind="shift-down:preview-down"
"@
